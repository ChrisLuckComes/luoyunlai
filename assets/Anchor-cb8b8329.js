import{w as fe,k as Be,l as Ie,m as y,C as ve,n as ne,o as ye,r as f,p as He,q as We,s as ge,t as ze,v as _e,x as he,j as Fe}from"./index-12c11ae8.js";function xe(e){let t;const n=o=>()=>{t=null,e.apply(void 0,Be(o))},r=function(){if(t==null){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];t=fe(n(i))}};return r.cancel=()=>{fe.cancel(t),t=null},r}const je=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},De=e=>({zIndexPopup:e.zIndexBase+10}),Ve=Ie("Affix",je,De);function ae(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function Ce(e,t,n){if(n!==void 0&&Math.round(t.top)>Math.round(e.top)-n)return n+t.top}function Se(e,t,n){if(n!==void 0&&Math.round(t.bottom)<Math.round(e.bottom)+n){const r=window.innerHeight-t.bottom;return n+r}}var Xe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const be=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function qe(){return typeof window<"u"?window:null}const ke=0,Te=1,Ue=y.forwardRef((e,t)=>{var n;const{style:r,offsetTop:o,offsetBottom:i,prefixCls:c,className:d,rootClassName:m,children:O,target:S,onChange:v,onTestUpdatePosition:V}=e,$=Xe(e,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:x,getTargetContainer:B}=y.useContext(ve),A=x("affix",c),[C,N]=y.useState(!1),[w,P]=y.useState(),[R,Q]=y.useState(),_=y.useRef(ke),F=y.useRef(null),M=y.useRef(null),H=y.useRef(null),Z=y.useRef(null),L=y.useRef(null),p=(n=S??B)!==null&&n!==void 0?n:qe,b=i===void 0&&o===void 0?0:o,k=()=>{if(_.current!==Te||!Z.current||!H.current||!p)return;const h=p();if(h){const u={status:ke},s=ae(H.current);if(s.top===0&&s.left===0&&s.width===0&&s.height===0)return;const T=ae(h),E=Ce(s,T,b),U=Se(s,T,i);E!==void 0?(u.affixStyle={position:"fixed",top:E,width:s.width,height:s.height},u.placeholderStyle={width:s.width,height:s.height}):U!==void 0&&(u.affixStyle={position:"fixed",bottom:U,width:s.width,height:s.height},u.placeholderStyle={width:s.width,height:s.height}),u.lastAffix=!!u.affixStyle,C!==u.lastAffix&&(v==null||v(u.lastAffix)),_.current=u.status,P(u.affixStyle),Q(u.placeholderStyle),N(u.lastAffix)}},I=()=>{_.current=Te,k()},l=xe(()=>{I()}),j=xe(()=>{if(p&&w){const h=p();if(h&&H.current){const u=ae(h),s=ae(H.current),T=Ce(s,u,b),E=Se(s,u,i);if(T!==void 0&&w.top===T||E!==void 0&&w.bottom===E)return}}I()}),X=()=>{const h=p==null?void 0:p();h&&(be.forEach(u=>{var s;M.current&&((s=F.current)===null||s===void 0||s.removeEventListener(u,M.current)),h==null||h.addEventListener(u,j)}),F.current=h,M.current=j)},W=()=>{L.current&&(clearTimeout(L.current),L.current=null);const h=p==null?void 0:p();be.forEach(u=>{var s;h==null||h.removeEventListener(u,j),M.current&&((s=F.current)===null||s===void 0||s.removeEventListener(u,M.current))}),l.cancel(),j.cancel()};y.useImperativeHandle(t,()=>({updatePosition:l})),y.useEffect(()=>(L.current=setTimeout(X),()=>W()),[]),y.useEffect(()=>{X()},[S,w]),y.useEffect(()=>{l()},[S,o,i]);const[q,ee,Y]=Ve(A),G=ne(m,ee,A,Y),J=ne({[G]:w});return q(y.createElement(ye,{onResize:l},y.createElement("div",Object.assign({style:r,className:d,ref:H},$),w&&y.createElement("div",{style:R,"aria-hidden":"true"}),y.createElement("div",{className:J,ref:Z,style:w},y.createElement(ye,{onResize:l},O)))))}),Ye=Ue,Ee=e=>typeof e=="object"&&e!=null&&e.nodeType===1,$e=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",de=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return $e(n.overflowY,t)||$e(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},ue=(e,t,n,r,o,i,c,d)=>i<e&&c>t||i>e&&c<t?0:i<=e&&d<=n||c>=t&&d>=n?i-e-r:c>t&&d<n||i<e&&d>n?c-t+o:0,Ge=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Re=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:c,block:d,inline:m,boundary:O,skipOverflowHiddenElements:S}=t,v=typeof O=="function"?O:I=>I!==O;if(!Ee(e))throw new TypeError("Invalid target");const V=document.scrollingElement||document.documentElement,$=[];let x=e;for(;Ee(x)&&v(x);){if(x=Ge(x),x===V){$.push(x);break}x!=null&&x===document.body&&de(x)&&!de(document.documentElement)||x!=null&&de(x,S)&&$.push(x)}const B=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,A=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:C,scrollY:N}=window,{height:w,width:P,top:R,right:Q,bottom:_,left:F}=e.getBoundingClientRect(),{top:M,right:H,bottom:Z,left:L}=(I=>{const l=window.getComputedStyle(I);return{top:parseFloat(l.scrollMarginTop)||0,right:parseFloat(l.scrollMarginRight)||0,bottom:parseFloat(l.scrollMarginBottom)||0,left:parseFloat(l.scrollMarginLeft)||0}})(e);let p=d==="start"||d==="nearest"?R-M:d==="end"?_+Z:R+w/2-M+Z,b=m==="center"?F+P/2-L+H:m==="end"?Q+H:F-L;const k=[];for(let I=0;I<$.length;I++){const l=$[I],{height:j,width:X,top:W,right:q,bottom:ee,left:Y}=l.getBoundingClientRect();if(c==="if-needed"&&R>=0&&F>=0&&_<=A&&Q<=B&&(l===V&&!de(l)||R>=W&&_<=ee&&F>=Y&&Q<=q))return k;const G=getComputedStyle(l),J=parseInt(G.borderLeftWidth,10),h=parseInt(G.borderTopWidth,10),u=parseInt(G.borderRightWidth,10),s=parseInt(G.borderBottomWidth,10);let T=0,E=0;const U="offsetWidth"in l?l.offsetWidth-l.clientWidth-J-u:0,oe="offsetHeight"in l?l.offsetHeight-l.clientHeight-h-s:0,re="offsetWidth"in l?l.offsetWidth===0?0:X/l.offsetWidth:0,ie="offsetHeight"in l?l.offsetHeight===0?0:j/l.offsetHeight:0;if(V===l)T=d==="start"?p:d==="end"?p-A:d==="nearest"?ue(N,N+A,A,h,s,N+p,N+p+w,w):p-A/2,E=m==="start"?b:m==="center"?b-B/2:m==="end"?b-B:ue(C,C+B,B,J,u,C+b,C+b+P,P),T=Math.max(0,T+N),E=Math.max(0,E+C);else{T=d==="start"?p-W-h:d==="end"?p-ee+s+oe:d==="nearest"?ue(W,ee,j,h,s+oe,p,p+w,w):p-(W+j/2)+oe/2,E=m==="start"?b-Y-J:m==="center"?b-(Y+X/2)+U/2:m==="end"?b-q+u+U:ue(Y,q,X,J,u+U,b,b+P,P);const{scrollLeft:se,scrollTop:ce}=l;T=ie===0?0:Math.max(0,Math.min(ce+T/ie,l.scrollHeight-j/ie+oe)),E=re===0?0:Math.max(0,Math.min(se+E/re,l.scrollWidth-X/re+U)),p+=ce-T,b+=se-E}k.push({el:l,top:T,left:E})}return k},Je=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Ke(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(Re(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:c}of Re(e,Je(t))){const d=i-n.top+n.bottom,m=c-n.left+n.right;o.scroll({top:d,left:m,behavior:r})}}function me(e){return e!=null&&e===e.window}const Qe=e=>{var t,n;if(typeof window>"u")return 0;let r=0;return me(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!me(e)&&typeof r!="number"&&(r=(n=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||n===void 0?void 0:n.scrollTop),r},Oe=Qe;function Ze(e,t,n,r){const o=n-t;return e/=r/2,e<1?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t}function et(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:n=()=>window,callback:r,duration:o=450}=t,i=n(),c=Oe(i),d=Date.now(),m=()=>{const S=Date.now()-d,v=Ze(S>o?o:S,c,e,o);me(i)?i.scrollTo(window.pageXOffset,v):i instanceof Document||i.constructor.name==="HTMLDocument"?i.documentElement.scrollTop=v:i.scrollTop=v,S<o?fe(m):typeof r=="function"&&r()};fe(m)}const tt=f.createContext(void 0),Ne=tt,nt=e=>{const{href:t,title:n,prefixCls:r,children:o,className:i,target:c,replace:d}=e,m=f.useContext(Ne),{registerLink:O,unregisterLink:S,scrollTo:v,onClick:V,activeLink:$,direction:x}=m||{};f.useEffect(()=>(O==null||O(t),()=>{S==null||S(t)}),[t]);const B=R=>{V==null||V(R,{title:n,href:t}),v==null||v(t),d&&(R.preventDefault(),window.location.replace(t))},{getPrefixCls:A}=f.useContext(ve),C=A("anchor",r),N=$===t,w=ne(`${C}-link`,i,{[`${C}-link-active`]:N}),P=ne(`${C}-link-title`,{[`${C}-link-title-active`]:N});return f.createElement("div",{className:w},f.createElement("a",{className:P,href:t,title:typeof n=="string"?n:"",target:c,onClick:B},n),x!=="horizontal"?o:null)},Pe=nt,ot=e=>{const{componentCls:t,holderOffsetBlock:n,motionDurationSlow:r,lineWidthBold:o,colorPrimary:i,lineType:c,colorSplit:d,calc:m}=e;return{[`${t}-wrapper`]:{marginBlockStart:m(n).mul(-1).equal(),paddingBlockStart:n,[t]:Object.assign(Object.assign({},We(e)),{position:"relative",paddingInlineStart:o,[`${t}-link`]:{paddingBlock:e.linkPaddingBlock,paddingInline:`${ge(e.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},ze),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${t}-link-title`]:{color:e.colorPrimary},[`${t}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${t}-wrapper-horizontal)`]:{[t]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${ge(o)} ${c} ${d}`,content:'" "'},[`${t}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${r} ease-in-out`,width:o,backgroundColor:i,[`&${t}-ink-visible`]:{display:"inline-block"}}}},[`${t}-fixed ${t}-ink ${t}-ink`]:{display:"none"}}}},rt=e=>{const{componentCls:t,motionDurationSlow:n,lineWidthBold:r,colorPrimary:o}=e;return{[`${t}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${ge(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,content:'" "'},[t]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${t}-link:first-of-type`]:{paddingInline:0},[`${t}-ink`]:{position:"absolute",bottom:0,transition:`left ${n} ease-in-out, width ${n} ease-in-out`,height:r,backgroundColor:o}}}}},it=e=>({linkPaddingBlock:e.paddingXXS,linkPaddingInlineStart:e.padding}),lt=Ie("Anchor",e=>{const{fontSize:t,fontSizeLG:n,paddingXXS:r,calc:o}=e,i=He(e,{holderOffsetBlock:r,anchorPaddingBlockSecondary:o(r).div(2).equal(),anchorTitleBlock:o(t).div(14).mul(3).equal(),anchorBallSize:o(n).div(2).equal()});return[ot(i),rt(i)]},it);function st(){return window}function Ae(e,t){if(!e.getClientRects().length)return 0;const n=e.getBoundingClientRect();return n.width||n.height?t===window?n.top-e.ownerDocument.documentElement.clientTop:n.top-t.getBoundingClientRect().top:n.top}const Le=/#([\S ]+)$/,ct=e=>{var t;const{rootClassName:n,prefixCls:r,className:o,style:i,offsetTop:c,affix:d=!0,showInkInFixed:m=!1,children:O,items:S,direction:v="vertical",bounds:V,targetOffset:$,onClick:x,onChange:B,getContainer:A,getCurrentAnchor:C,replace:N}=e,[w,P]=f.useState([]),[R,Q]=f.useState(null),_=f.useRef(R),F=f.useRef(null),M=f.useRef(null),H=f.useRef(!1),{direction:Z,anchor:L,getTargetContainer:p,getPrefixCls:b}=f.useContext(ve),k=b("anchor",r),I=_e(k),[l,j,X]=lt(k,I),W=(t=A??p)!==null&&t!==void 0?t:st,q=JSON.stringify(w),ee=he(a=>{w.includes(a)||P(g=>[].concat(Be(g),[a]))}),Y=he(a=>{w.includes(a)&&P(g=>g.filter(D=>D!==a))}),G=()=>{var a;const g=(a=F.current)===null||a===void 0?void 0:a.querySelector(`.${k}-link-title-active`);if(g&&M.current){const{style:D}=M.current,z=v==="horizontal";D.top=z?"":`${g.offsetTop+g.clientHeight/2}px`,D.height=z?"":`${g.clientHeight}px`,D.left=z?`${g.offsetLeft}px`:"",D.width=z?`${g.clientWidth}px`:"",z&&Ke(g,{scrollMode:"if-needed",block:"nearest"})}},J=function(a){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const z=[],pe=W();return a.forEach(te=>{const K=Le.exec(te==null?void 0:te.toString());if(!K)return;const le=document.getElementById(K[1]);if(le){const we=Ae(le,pe);we<=g+D&&z.push({link:te,top:we})}}),z.length?z.reduce((K,le)=>le.top>K.top?le:K).link:""},h=he(a=>{if(_.current===a)return;const g=typeof C=="function"?C(a):a;Q(g),_.current=g,B==null||B(a)}),u=f.useCallback(()=>{if(H.current)return;const a=J(w,$!==void 0?$:c||0,V);h(a)},[q,$,c]),s=f.useCallback(a=>{h(a);const g=Le.exec(a);if(!g)return;const D=document.getElementById(g[1]);if(!D)return;const z=W(),pe=Oe(z),te=Ae(D,z);let K=pe+te;K-=$!==void 0?$:c||0,H.current=!0,et(K,{getContainer:W,callback(){H.current=!1}})},[$,c]),T=ne(j,X,I,n,`${k}-wrapper`,{[`${k}-wrapper-horizontal`]:v==="horizontal",[`${k}-rtl`]:Z==="rtl"},o,L==null?void 0:L.className),E=ne(k,{[`${k}-fixed`]:!d&&!m}),U=ne(`${k}-ink`,{[`${k}-ink-visible`]:R}),oe=Object.assign(Object.assign({maxHeight:c?`calc(100vh - ${c}px)`:"100vh"},L==null?void 0:L.style),i),re=a=>Array.isArray(a)?a.map(g=>f.createElement(Pe,Object.assign({replace:N},g,{key:g.key}),v==="vertical"&&re(g.children))):null,ie=f.createElement("div",{ref:F,className:T,style:oe},f.createElement("div",{className:E},f.createElement("span",{className:U,ref:M}),"items"in e?re(S):O));f.useEffect(()=>{const a=W();return u(),a==null||a.addEventListener("scroll",u),()=>{a==null||a.removeEventListener("scroll",u)}},[q]),f.useEffect(()=>{typeof C=="function"&&h(C(_.current||""))},[C]),f.useEffect(()=>{G()},[v,C,q,R]);const se=f.useMemo(()=>({registerLink:ee,unregisterLink:Y,scrollTo:s,activeLink:R,onClick:x,direction:v}),[R,x,s,v]),ce=d&&typeof d=="object"?d:void 0;return l(f.createElement(Ne.Provider,{value:se},d?f.createElement(Ye,Object.assign({offsetTop:c,target:W},ce),ie):ie))},at=ct,Me=at;Me.Link=Pe;const dt=Me,ft=({items:e})=>Fe.jsx(dt,{className:"h-full overflow-y-auto",getContainer:()=>document.querySelector(".article"),items:e,targetOffset:0});export{ft as A,et as s};
