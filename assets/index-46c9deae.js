import{r as n,A as v,_ as m,u as h,j as t,a as b,i as g,g as d,L as x,M as j,R as S,b as k,S as y,c as T}from"./index-3e783dff.js";var q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM690 624h-46.9c-10.2 0-19.9-4.9-25.9-13.2L512 465.4 406.8 610.8c-6 8.3-15.6 13.2-25.9 13.2H334c-6.5 0-10.3-7.4-6.5-12.7l178-246c3.2-4.4 9.7-4.4 12.9 0l178 246c3.9 5.3.1 12.7-6.4 12.7z"}}]},name:"up-square",theme:"filled"};const w=q;var E=function(c,l){return n.createElement(v,m(m({},c),{},{ref:l,icon:w}))},L=n.forwardRef(E);const F=L;function N(){const[o,c]=n.useState(!1),{pathname:l}=h(),[a,u]=n.useState(),i=s=>{let e=s.target.scrollTop;c(e>20)},p=()=>{if(a){let s=a.scrollTop,e=()=>{a.scrollTop=s-=100,s>0?requestAnimationFrame(e):a.scrollTop=0};requestAnimationFrame(e)}};return n.useLayoutEffect(()=>(setTimeout(()=>{let s=document.getElementById("rootArticle");u(s),s.addEventListener("scroll",i,!0)},1e3),()=>{a==null||a.removeEventListener("scroll",i,!0)}),[l]),t.jsx(F,{className:"block absolute z-[11] back-top bottom-48 right-48",style:{visibility:o?"visible":"hidden"},onClick:p})}const{Sider:M,Content:R}=x,f={content:"px-10 bg-white overflow-y-auto max-w-content",sider:"bg-white"};function I({menus:o,groups:c}){const l=b(),a=h(),[u,i]=g([a.pathname]),p=e=>{i(r=>[e.key]),l(e.key)};n.useEffect(()=>{i([a.pathname])},[a]);let s=[];return c?s=c.map(e=>d(e,e,o.filter(r=>r.group===e).map(r=>d(r.name,r.key)),"group")):s=o.map(e=>d(e.name,e.key)),t.jsxs(x,{className:"h-content",children:[t.jsx(M,{className:f.sider,children:t.jsx(j,{className:"h-full overflow-y-auto",selectedKeys:u,onClick:e=>p(e),mode:"inline",items:s})}),t.jsx(R,{id:"content",className:f.content,children:t.jsx(S,{children:o==null?void 0:o.map(e=>t.jsx(k,{path:e.path,element:t.jsxs(n.Suspense,{fallback:t.jsx(y,{indicator:t.jsx(T,{className:"text-icon",spin:!0})}),children:[t.jsx(e.element,{}),t.jsx(N,{})]})},e.key))})})]})}export{I as default};
